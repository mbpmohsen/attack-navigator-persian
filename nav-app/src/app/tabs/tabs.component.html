<div [style.margin-top]="adjustedHeaderHeight + 'px'" class="header-wrapper">
  <!-- banner -->
  <div *ngIf="hasFeature('header') && bannerContent" class="header">
    <div class="banner">
      <span class="bannerContent" role="alert" [innerHTML]="bannerContent"></span>
      <div class="bannerLinks">
        <a href="http://attack.mitre.org">MITRE ATT&CK&reg;</a>
      </div>
    </div>
  </div>

  <!-- help/changelog -->
  <div class="header help-header">
    <div
      class="help-button"
      [ngClass]="{ 'help-dropdown-open': showHelpDropDown }"
      [matTooltip]="'NAV.HELP' | translate"
      (click)="showHelpDropDown = !showHelpDropDown">
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#9aa0a6">
        <path d="M0 0h24v24H0z" fill="none" />
        <path
          d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z" />
      </svg>
    </div>
    <div class="dropdown-container" *ngIf="showHelpDropDown && adjustedHeaderHeight >= 0">
      <button (click)="openDialog('help')">{{ 'NAV.HELP' | translate }}</button>
      <button (click)="openDialog('changelog')">{{ 'NAV.CHANGELOG' | translate }}</button>
    </div>
  </div>

  <!-- tabs -->
  <div class="tabs-container scroll">
    <nav mat-tab-nav-bar class="tabs" [tabPanel]="tabPanel" backgroundColor="undefined">
      <!-- open tabs -->
      <a
        *ngFor="let tab of layerTabs; let $i = index"
        mat-tab-link
        class="tab-title"
        [class.active]="activeTab === tab"
        (click)="handleTabClick(tab)"
        [active]="activeTab === tab">
        {{ tab.isDataTable ? tab.viewModel.name : tab.title }}
        <button mat-icon-button *ngIf="tab.isCloseable" (click)="closeTab(tab)" class="tab-close icon-button-scale-down">
          <mat-icon>close</mat-icon>
        </button>
        <span
          class="tab-enumerator"
          *ngIf="activeTab.showScoreVariables && tab.isDataTable && (!domain || tab.domain === domain) && isAlphabetical(indexToChar($i))">
          {{ indexToChar($i) }}
        </span>
      </a>
      <!-- create a new tab -->
      <a mat-tab-link class="add-tab" *ngIf="hasFeature('tabs') && layerTabs.length < 12" (click)="newBlankTab()">
        <mat-icon>add</mat-icon>
      </a>
    </nav>
    <mat-tab-nav-panel #tabPanel></mat-tab-nav-panel>
  </div>

  <div *ngIf="layerTabs.length == 0" class="new-tab">
    <!-- should never see this, but in case the config fails to load -->
    <button (click)="newBlankTab()">{{ 'COMMON.START' | translate }}</button>
  </div>
</div>

<ng-template #safariWarning>
  <div class="safari-warning">
    <h3>{{ 'COMMON.WARNING' | translate }}</h3>
    <p>
      {{ 'TABS.SAFARI_WARNING_P1' | translate }}
    </p>
    <p>
      {{ 'TABS.SAFARI_WARNING_P2' | translate }}
    </p>
    <button mat-button (click)="safariDialogRef.close()">
      {{ 'COMMON.DISMISS' | translate }}
    </button>
  </div>
</ng-template>

<ng-template #versionWarning let-data>
  <div class="version-warning">
    <div>
      <h3 mat-dialog-title>
        <u>{{ 'COMMON.WARNING' | translate }}</u>
        {{ 'TABS.OUTDATED_LAYER' | translate }}
      </h3>
      <mat-dialog-content>
        <p>
          {{
            'TABS.VERSION_WARNING_TEXT1'
              | translate:{ objVersion: data.objVersion, globalVersion: data.globalVersion }
          }}
        </p>
        <p>
          {{ 'TABS.VERSION_WARNING_TEXT2' | translate }}
        </p>
        <p>
          <a (click)="openDialog('layers')">
            {{
              'TABS.VERSION_WARNING_LAYER_SPEC_LINK'
                | translate:{ globalVersion: data.globalVersion }
            }}
          </a>
        </p>
        <p>
          <a (click)="openDialog('changelog')">
            {{ 'NAV.CHANGELOG' | translate }}
          </a>
        </p>
      </mat-dialog-content>
    </div>

    <button mat-button mat-dialog-close (click)="versionDialogRef.close()">
      {{ 'COMMON.DISMISS' | translate }}
    </button>
  </div>
</ng-template>

<!-- new tab template -->
<ng-template [ngIf]="activeTab && !activeTab.isDataTable">
  <div class="new-tab">
    <div class="description">
      <div class="logo">
        <h1><a href="http://attack.mitre.org">MITRE ATT&CK&reg; Navigator</a></h1>
      </div>
      <div>
        <p>
          {{ 'MAIN.DESCRIPTION' | translate }}
        </p>
      </div>
      <!-- Help dialog -->
      <div class="help-links-container">
        <button mat-flat-button (click)="openDialog('help')">
          {{ 'NAV.HELP' | translate }}
        </button>
        <button mat-flat-button (click)="openDialog('changelog')">
          {{ 'NAV.CHANGELOG' | translate }}
        </button>
        <button mat-flat-button (click)="select.open()" class="theme-select-container">
          <mat-label>{{ 'TABS.THEME_LABEL' | translate }} â–¾</mat-label>
          <mat-select #select class="hide-select" panelWidth="" (selectionChange)="handleUserThemeChange($event.value)">
            <mat-option value="dark">{{ 'TABS.THEME_DARK' | translate }}</mat-option>
            <mat-option value="light">{{ 'TABS.THEME_LIGHT' | translate }}</mat-option>
            <mat-option value="system">{{ 'TABS.THEME_SYSTEM' | translate }}</mat-option>
          </mat-select>
        </button>
      </div>
    </div>
    <mat-accordion class="headers-align">
      <!-- Create new layer interface -->
      <mat-expansion-panel #newlayer>
        <mat-expansion-panel-header>
          <mat-panel-title>{{ 'NAV.NEW_LAYER' | translate }}</mat-panel-title>
          <mat-panel-description>{{ 'TABS.NEW_LAYER_PANEL_DESC' | translate }}</mat-panel-description>
        </mat-expansion-panel-header>

        <!-- Domain buttons for latest version -->
        <div class="button-group">
          <button *ngFor="let domain of latestDomains" mat-raised-button (click)="newLayer(domain.id)">
            {{ domain.name }}
          </button>
        </div>

        <!-- More domain/version options -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>{{ 'TABS.MORE_OPTIONS' | translate }}</mat-panel-title>
          </mat-expansion-panel-header>

          <div class="multi-column multi-column-container">
            <div class="md-column">
              <!-- select a version -->
              <mat-form-field>
                <mat-label>{{ 'TABS.SELECT_VERSION' | translate }}</mat-label>
                <mat-select [(ngModel)]="nVersion" required>
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let nVersion of dataService.versions" [value]="nVersion">
                    {{ nVersion.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <!-- select a domain -->
              <mat-form-field>
                <mat-label>{{ 'TABS.SELECT_DOMAIN' | translate }}</mat-label>
                <mat-select [(ngModel)]="nDomain" [disabled]="!nVersion" required>
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let nDomain of filterDomains(nVersion)" [value]="nDomain">
                    {{ nDomain.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <!-- note -->
              <span class="text-deemphasis">
                {{
                  'TABS.VERSION_NOTE'
                    | translate:{ minVersion: minimumSupportedVersion, navVersion: navVersion }
                }}
              </span>
            </div>
            <div class="or-column">
              <b>{{ 'COMMON.OR' | translate }}</b>
            </div>
            <div class="md-column">
              <!-- bundle URL -->
              <mat-form-field>
                <mat-label>{{ 'TABS.BUNDLE_URL_LABEL' | translate }}</mat-label>
                <input type="url" matInput [(ngModel)]="loadData.url" />
              </mat-form-field>
              <!-- bundle version number -->
              <mat-form-field>
                <mat-label>{{ 'TABS.BUNDLE_VERSION_LABEL' | translate }}</mat-label>
                <input type="number" matInput [(ngModel)]="loadData.version" />
                <mat-hint>{{ 'TABS.BUNDLE_VERSION_HINT' | translate }}</mat-hint>
              </mat-form-field>
              <!-- bundle domain identifier -->
              <mat-form-field>
                <mat-label>{{ 'TABS.BUNDLE_DOMAIN_LABEL' | translate }}</mat-label>
                <input type="text" matInput [(ngModel)]="loadData.identifier" />
                <mat-hint>{{ 'TABS.BUNDLE_DOMAIN_HINT' | translate }}</mat-hint>
              </mat-form-field>
            </div>
          </div>

          <div class="multi-column multi-column-container">
            <div class="md-column">
              <button mat-flat-button [disabled]="!nVersion || !nDomain" (click)="newLayer(nDomain.id)">
                {{ 'TABS.CREATE_LAYER_FROM_VERSION' | translate }}
              </button>
            </div>
            <div class="sm-column"></div>
            <div class="md-column">
              <button
                mat-flat-button
                [disabled]="!loadData.url || !loadData.version || !loadData.identifier"
                (click)="newLayerFromURL(loadData)">
                {{ 'TABS.CREATE_LAYER_FROM_BUNDLE' | translate }}
              </button>
            </div>
          </div>
        </mat-expansion-panel>
      </mat-expansion-panel>

      <!-- Open existing layer interface -->
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>{{ 'NAV.OPEN_LAYER' | translate }}</mat-panel-title>
          <mat-panel-description>{{ 'TABS.OPEN_LAYER_PANEL_DESC' | translate }}</mat-panel-description>
        </mat-expansion-panel-header>

        <div class="multi-column multi-column-container">
          <div class="md-column">
            <button mat-raised-button (click)="openUploadPrompt()">
              {{ 'TABS.UPLOAD_FROM_LOCAL' | translate }}
            </button>
            <input id="uploader" type="file" style="display: none" (change)="loadLayerFromFile()" />
          </div>
          <div class="or-column">
            <b>{{ 'COMMON.OR' | translate }}</b>
          </div>
          <div class="md-column">
            <mat-form-field class="hide-subscript">
              <mat-label>{{ 'TABS.LOAD_FROM_URL' | translate }}</mat-label>
              <input type="text" matInput [(ngModel)]="loadURL" />
              <button
                class="icon-button-scale-down"
                matSuffix
                mat-icon-button
                aria-label="go"
                [disabled]="!loadURL"
                (click)="loadLayerFromURL(loadURL, true)">
                <mat-icon>chevron_right</mat-icon>
              </button>
            </mat-form-field>
          </div>
        </div>
      </mat-expansion-panel>

      <!-- Create layer from other layers -->
      <mat-expansion-panel (opened)="activeTab.showScoreVariables = true" (closed)="activeTab.showScoreVariables = false">
        <mat-expansion-panel-header>
          <mat-panel-title>{{ 'TABS.CREATE_FROM_OTHER_TITLE' | translate }}</mat-panel-title>
          <mat-panel-description>{{ 'TABS.CREATE_FROM_OTHER_DESC' | translate }}</mat-panel-description>
        </mat-expansion-panel-header>

        <div class="multi-column-container hide-subscript">
          <!-- domain -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.DOMAIN_LABEL' | translate }}</mat-label>
                <mat-select [(ngModel)]="opSettings.domain" required>
                  <mat-option *ngFor="let domain of dataService.domains" [value]="domain.id">
                    {{ domain.name }} {{ domain.version.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center">
              <span>{{ 'TABS.DOMAIN_HELP' | translate }}</span>
            </div>
          </div>

          <!-- score expression -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.SCORE_EXPRESSION_LABEL' | translate }}</mat-label>
                <input
                  type="text"
                  matInput
                  [disabled]="!opSettings.domain"
                  [(ngModel)]="opSettings.scoreExpression"
                  (keyup)="opSettings.scoreExpression = opSettings.scoreExpression.toLowerCase()"
                  style="letter-spacing: 2px" />
                <mat-hint style="color: red" align="start">{{ getScoreExpressionError() }}</mat-hint>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center" [ngClass]="{ disabled: !opSettings.domain }">
              <span>
                {{ 'TABS.SCORE_EXPRESSION_INTRO' | translate }}
                {{ 'TABS.SCORE_EXPRESSION_OPS_INTRO' | translate }}
                <a href="http://mathjs.org/docs/expressions/syntax.html#operators">
                  {{ 'TABS.SCORE_EXPRESSION_OPS_LINK_TEXT' | translate }}
                </a>
                {{ 'TABS.SCORE_EXPRESSION_BLANK_INFO' | translate }}
              </span>
              <div>
                {{ 'TABS.SCORE_EXPRESSION_VARS_INTRO' | translate }}
              </div>
              <ul *ngFor="let tab of layerTabs; let $i = index">
                <li
                  *ngIf="
                    activeTab.showScoreVariables &&
                    tab.isDataTable &&
                    (!opSettings.domain || tab.domain === opSettings.domain) &&
                    isAlphabetical(indexToChar($i))
                  ">
                  <span class="tab-enumerator-highlight">{{ indexToChar($i) }}</span>
                  ({{ tab.isDataTable ? tab.viewModel.name : tab.title }})
                </li>
              </ul>
            </div>
          </div>

          <!-- gradient -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.GRADIENT_LABEL' | translate }}</mat-label>
                <mat-select [(ngModel)]="opSettings.gradientVM" [disabled]="!opSettings.domain">
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let vm of getFilteredVMs()" [value]="vm">{{ vm.name }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center" [ngClass]="{ disabled: !opSettings.domain }">
              <span>{{ 'TABS.GRADIENT_HELP' | translate }}</span>
            </div>
          </div>

          <!-- coloring -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.COLORING_LABEL' | translate }}</mat-label>
                <mat-select [(ngModel)]="opSettings.coloringVM" [disabled]="!opSettings.domain">
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let vm of getFilteredVMs()" [value]="vm">{{ vm.name }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center" [ngClass]="{ disabled: !opSettings.domain }">
              <span>{{ 'TABS.COLORING_HELP' | translate }}</span>
            </div>
          </div>

          <!-- comments -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.COMMENTS_LABEL' | translate }}</mat-label>
                <mat-select [(ngModel)]="opSettings.commentVM" [disabled]="!opSettings.domain">
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let vm of getFilteredVMs()" [value]="vm">{{ vm.name }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center" [ngClass]="{ disabled: !opSettings.domain }">
              <span>{{ 'TABS.COMMENTS_HELP' | translate }}</span>
            </div>
          </div>

          <!-- links -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.LINKS_LABEL' | translate }}</mat-label>
                <mat-select [(ngModel)]="opSettings.linkVM" [disabled]="!opSettings.domain">
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let vm of getFilteredVMs()" [value]="vm">{{ vm.name }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center" [ngClass]="{ disabled: !opSettings.domain }">
              <span>{{ 'TABS.LINKS_HELP' | translate }}</span>
            </div>
          </div>

          <!-- metadata -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.METADATA_LABEL' | translate }}</mat-label>
                <mat-select [(ngModel)]="opSettings.metadataVM" [disabled]="!opSettings.domain">
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let vm of getFilteredVMs()" [value]="vm">{{ vm.name }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center" [ngClass]="{ disabled: !opSettings.domain }">
              <span>{{ 'TABS.METADATA_HELP' | translate }}</span>
            </div>
          </div>

          <!-- enabled state -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.STATES_LABEL' | translate }}</mat-label>
                <mat-select [(ngModel)]="opSettings.enabledVM" [disabled]="!opSettings.domain">
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let vm of getFilteredVMs()" [value]="vm">{{ vm.name }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center" [ngClass]="{ disabled: !opSettings.domain }">
              <span>{{ 'TABS.STATES_HELP' | translate }}</span>
            </div>
          </div>

          <!-- filters -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.FILTERS_LABEL' | translate }}</mat-label>
                <mat-select [(ngModel)]="opSettings.filterVM" [disabled]="!opSettings.domain">
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let vm of getFilteredVMs()" [value]="vm">{{ vm.name }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center" [ngClass]="{ disabled: !opSettings.domain }">
              <span>{{ 'TABS.FILTERS_HELP' | translate }}</span>
            </div>
          </div>

          <!-- legend -->
          <div class="multi-column">
            <div class="md-column">
              <mat-form-field>
                <mat-label>{{ 'TABS.LEGEND_LABEL' | translate }}</mat-label>
                <mat-select [(ngModel)]="opSettings.legendVM" [disabled]="!opSettings.domain">
                  <mat-option [value]="null">{{ 'COMMON.NONE' | translate }}</mat-option>
                  <mat-option *ngFor="let vm of getFilteredVMs()" [value]="vm">{{ vm.name }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="spacer"></div>
            <div class="lg-column align-center" [ngClass]="{ disabled: !opSettings.domain }">
              <span>{{ 'TABS.LEGEND_HELP' | translate }}</span>
            </div>
          </div>

          <!-- create -->
          <div style="margin-top: 16px;">
            <button
              mat-flat-button
              [disabled]="getScoreExpressionError() || !opSettings.domain"
              (click)="layerByOperation(); showScoreVariables = false">
              {{ 'COMMON.CREATE_LAYER' | translate }}
            </button>
          </div>
        </div>
      </mat-expansion-panel>

      <!-- Customized Navigator-->
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>{{ 'TABS.CUSTOM_NAV_TITLE' | translate }}</mat-panel-title>
          <mat-panel-description>{{ 'TABS.CUSTOM_NAV_DESC' | translate }}</mat-panel-description>
        </mat-expansion-panel-header>

        <div class="multi-column-container">
          <div class="section">
            <!-- default layers-->
            <h2>{{ 'TABS.DEFAULT_LAYERS_TITLE' | translate }}</h2>
            <div class="multi-column left-align">
              <div class="md-column">
                <ul class="layer-links">
                  <li *ngFor="let layerLinkURL of layerLinkURLs; let i = index; trackBy: trackByFunction">
                    <mat-form-field>
                      <mat-label>
                        {{
                          'TABS.DEFAULT_LAYER_LABEL'
                            | translate:{ index: i + 1 }
                        }}
                      </mat-label>
                      <input type="text" matInput [(ngModel)]="layerLinkURLs[i]" />
                      <button
                        class="icon-button-scale-down"
                        matSuffix
                        mat-icon-button
                        aria-label="remove"
                        (click)="removeLayerLink(i)">
                        <mat-icon>close</mat-icon>
                      </button>
                    </mat-form-field>
                  </li>
                  <li>
                    <button mat-raised-button (click)="addLayerLink()">
                      {{ 'TABS.ADD_DEFAULT_LAYER' | translate }}
                    </button>
                  </li>
                </ul>
              </div>
              <div class="spacer"></div>
              <div class="lg-column">
                <span>{{ 'TABS.DEFAULT_LAYERS_INFO' | translate }}</span>
              </div>
            </div>
          </div>

          <div class="section">
            <!-- navigator features -->
            <h2>{{ 'TABS.NAV_FEATURES_TITLE' | translate }}</h2>
            <ng-container *ngFor="let feature of configService.customizefeatureList">
              <div *ngIf="!feature.subfeatures" class="feature-row multi-column left-align">
                <div class="md-column align-center">
                  <mat-checkbox class="adaptive-checkbox" [(ngModel)]="feature.enabled">
                    {{ ('CONFIG.CUSTOMIZE.' + feature.name + '.LABEL') | translate }}
                  </mat-checkbox>
                </div>
                <div class="spacer"></div>
                <div class="lg-column">
                  <span>{{ ('CONFIG.CUSTOMIZE.' + feature.name + '.DESC') | translate }}</span>
                </div>
              </div>
            </ng-container>
          </div>
        </div>

        <!-- Custom Navigator URL -->
        <div style="text-align: center">
          <mat-form-field id="layerlinkfield">
            <mat-label>{{ 'COMMON.CUSTOM_NAVIGATOR_URL' | translate }}</mat-label>
            <input
              id="layerLink"
              type="text"
              matInput
              (click)="selectLayerLink()"
              [value]="getLayerLink()"
              readonly />
            <button
              class="icon-button-scale-down"
              (click)="copyLayerLink()"
              matSuffix
              mat-icon-button
              [attr.aria-label]="'TABS.COPY_TOOLTIP' | translate"
              [matTooltip]="'TABS.COPY_TOOLTIP' | translate">
              <mat-icon>content_copy</mat-icon>
            </button>
            <mat-hint *ngIf="copiedRecently">
              {{ 'COMMON.COPIED' | translate }}
            </mat-hint>
          </mat-form-field>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</ng-template>

<!-- data table tab template -->
<ng-template [ngIf]="activeTab && activeTab.isDataTable">
  <DataTable
    [viewModel]="activeTab.viewModel"
    [currentDropdown]="dropdownEnabled"
    (dropdownChange)="dropdownEnabled = $event"
    (onScroll)="adjustHeader($event)"></DataTable>
</ng-template>
